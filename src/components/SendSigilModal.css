/* ────────────────────────────────────────────────────────────────
   SendSigilModal.css — “Atlantean Transfer Seal” (QR-free mint)
   - Glass dialog + radial aurora backdrop
   - Ripple feedback, focus a11y, motion-safe
   - iOS safe-area padding, buttery mobile polish
   - Cohesive with Valuation/Verifier chrome (phi resonance)
────────────────────────────────────────────────────────────────── */

/* ===== Resonance vars (inherit from app theme if present) ===== */
:root{
  --pulse: 5.236s;
  --ease-breath: cubic-bezier(.33,.01,.24,1);

  --seal-text:#e8fbf8; --seal-text-dim:#aee8df; --seal-core:#37ffe4; --seal-aura:#11d7ff;
  --seal-accent-2:#a78bfa; --seal-accent-3:#5ce1ff;
  --border:rgba(255,255,255,.12);
  --ok:#4ee89a; --warn:#ffd166; --error:#ff6b7a; --money:#00d09c;

  --ring: color-mix(in srgb, var(--seal-core) 65%, transparent);
}

/* Global niceties */
::selection{ background: color-mix(in srgb, var(--seal-core) 35%, #0b1620); color:#041017 }
:focus-visible{ outline:2px solid var(--ring); outline-offset:2px }

/* Number input spinners off (platforms) */
input[type="number"]{
  -moz-appearance:textfield;
}
input[type="number"]::-webkit-outer-spin-button,
input[type="number"]::-webkit-inner-spin-button{
  -webkit-appearance:none; margin:0;
}

/* ========================= OVERLAY ========================== */
.modal-overlay{
  position: fixed; inset: 0; z-index: 2147483000;
  display:grid; place-items:center;
  padding: env(safe-area-inset-top) 14px calc(14px + env(safe-area-inset-bottom));
  background:
    radial-gradient(1200px 900px at 75% -10%, color-mix(in srgb, var(--seal-accent-2) 18%, transparent), transparent 55%),
    radial-gradient(1000px 800px at 10% 110%, color-mix(in srgb, var(--seal-aura) 18%, transparent), transparent 60%),
    rgba(0,0,10,.55);
  -webkit-backdrop-filter: blur(8px) saturate(1.12);
  backdrop-filter: blur(8px) saturate(1.12);
  animation: overlayIn .22s ease-out both;
}
@keyframes overlayIn{
  from{ opacity:.92 } to{ opacity:1 }
}

/* ========================== DIALOG ========================== */
.send-sigil-modal{
  width: 100%;
  max-width: 480px;
  border-radius: 18px;
  padding: 16px 16px 14px;
  color: var(--seal-text);
  border:1px solid var(--border);
  background:
    linear-gradient(180deg, rgba(16,22,32,.96), rgba(8,10,18,.90));
  box-shadow:
    0 24px 64px rgba(0,0,0,.55),
    inset 0 0 0 1px rgba(255,255,255,.06),
    0 0 0 1px color-mix(in srgb, var(--seal-core) 12%, transparent);
  position: relative; overflow:hidden;
  animation: fadeIn .22s ease-out both;
  -webkit-font-smoothing: antialiased;
  text-rendering: optimizeLegibility;
  transform: translateZ(0);
}

/* Soft aurora breathing within the dialog */
.send-sigil-modal::before{
  content:""; position:absolute; inset:-25% -30%; z-index:0; pointer-events:none; opacity:.9;
  filter: blur(52px) saturate(1.06);
  background:
    radial-gradient(40% 35% at 20% 15%, color-mix(in srgb, var(--seal-core) 22%, transparent), transparent 70%),
    radial-gradient(40% 35% at 80% 85%, color-mix(in srgb, var(--seal-accent-2) 18%, transparent), transparent 70%),
    radial-gradient(35% 30% at 60% 30%, color-mix(in srgb, var(--seal-accent-3) 16%, transparent), transparent 70%);
  animation: auraBreathe var(--pulse) var(--ease-breath) infinite;
}
@keyframes auraBreathe{
  0%,100%{ transform: scale(1) translateZ(0); opacity:.78; filter: blur(52px) saturate(1.06) }
  50%    { transform: scale(1.02) translateZ(0); opacity:.95; filter: blur(58px) saturate(1.10) }
}

/* Title: iridescent holo text */
.send-sigil-modal h2{
  margin: 0 0 8px; padding-right: 42px; z-index:1; position:relative;
  font-weight: 900; letter-spacing:.06em; text-transform: uppercase;
  font-size: clamp(16px, 1.1rem + .4vw, 20px);
  color: transparent;
  background:
    conic-gradient(from 180deg at 50% 50%, var(--seal-core), var(--seal-accent-2), var(--seal-accent-3), var(--seal-core)),
    radial-gradient(120% 180% at 10% 0%, color-mix(in srgb, var(--seal-core) 38%, transparent), transparent 60%);
  -webkit-background-clip: text; background-clip: text;
  -webkit-text-stroke:.5px rgba(255,255,255,.28);
  text-shadow:0 0 .5px rgba(255,255,255,.35), 0 6px 22px color-mix(in srgb, var(--seal-core) 22%, transparent);
  background-size: 200% 200%; animation:holoShift 14s linear infinite;
}
@keyframes holoShift{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }

/* Close button (glass holo) */
.close-btn{
  position:absolute; right:10px; top:10px; z-index:2;
  width:38px; height:38px; border-radius:12px; border:1px solid var(--border);
  background:
    radial-gradient(120% 120% at 30% 20%, color-mix(in srgb, var(--seal-core) 18%, transparent), color-mix(in srgb, var(--seal-accent-2) 14%, transparent) 50%, rgba(255,255,255,.04) 70%, transparent 100%),
    rgba(255,255,255,.06);
  -webkit-backdrop-filter: blur(8px) saturate(1.12);
  backdrop-filter: blur(8px) saturate(1.12);
  box-shadow:0 10px 24px rgba(0,0,0,.45), 0 0 22px color-mix(in srgb, var(--seal-core) 18%, transparent);
  color: var(--seal-text);
  display:grid; place-items:center;
  cursor:pointer; transition: filter .18s ease, transform .08s ease;
}
.close-btn:hover{ filter: brightness(1.07) }
.close-btn:active{ transform: translateY(1px) }

/* ========================= FIELDS =========================== */
.field-group{
  position:relative; z-index:1;
  margin: 12px 0; display:flex; flex-direction:column; gap:6px;
}
.field-group label{
  font-size:.9rem; color: color-mix(in srgb, var(--seal-text-dim) 92%, #8aa0b5 8%);
  letter-spacing:.02em; font-weight:700;
}
.field-group input{
  -webkit-appearance:none; appearance:none;
  height: 40px; padding: 10px 12px; border-radius: 10px;
  border: 1px solid var(--border);
  background:
    radial-gradient(90% 120% at 0% 0%, rgba(255,255,255,.08), transparent 60%),
    #0f121c;
  color: rgba(232,251,248,.98);
  font-size: 1rem; font-weight:600;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.04);
  transition: box-shadow .18s ease, border-color .18s ease, background .18s ease;
}
.field-group input::placeholder{ color: color-mix(in srgb, var(--seal-text-dim) 72%, #8aa0b5 28%) }
.field-group input:focus{
  outline:none; border-color: color-mix(in srgb, var(--seal-core) 38%, transparent);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--seal-core) 18%, transparent)
}

.balance-hint{
  font-size:.78rem; margin-top:4px; color: var(--seal-text-dim); opacity:.9;
}

/* Errors */
.error-msg{
  color: var(--error); font-size:.9rem; margin-top:.5rem;
  border-left:2px solid color-mix(in srgb, var(--error) 60%, transparent);
  padding-left:8px;
}

/* ========================= CTA BUTTON ======================= */
.send-btn{
  margin-top: 14px;
  display:inline-flex; align-items:center; gap:8px;
  padding: 10px 14px; min-height:40px;
  border: none; border-radius: 12px; cursor: pointer; font-weight: 800;
  color: #04121a; text-shadow: 0 1px 0 rgba(255,255,255,.35);
  background:
    linear-gradient(180deg, color-mix(in srgb, var(--money) 92%, white 0%), color-mix(in srgb, var(--seal-accent-2) 70%, white 0%));
  box-shadow:
    0 10px 26px color-mix(in srgb, var(--money) 35%, transparent),
    0 0 0 1px color-mix(in srgb, var(--money) 22%, transparent) inset;
  transition: transform .08s ease, filter .16s ease, box-shadow .18s ease;
  position: relative; overflow: hidden;
}
.send-btn:hover{ filter: brightness(1.06) saturate(1.02) }
.send-btn:active{ transform: translateY(1px) }
/* Ripple (JS not required — center pulse) */
.send-btn:active::after{
  content:""; position:absolute; inset:0; pointer-events:none; border-radius:inherit;
  background: radial-gradient(220px 160px at 50% 50%, rgba(255,255,255,.25), transparent 60%);
  animation: ripple .45s ease-out forwards;
}
.send-btn:disabled{
  filter: grayscale(.2) saturate(.7) opacity(.8);
  cursor: not-allowed;
  box-shadow:
    0 6px 18px rgba(0,0,0,.3),
    0 0 0 1px rgba(255,255,255,.06) inset;
}

/* tiny readiness note */
.small{ font-size:.82rem }
.subtle{ color: color-mix(in srgb, var(--seal-text-dim) 92%, #90a7c2 8%) }

/* ========================= ANIMATIONS ======================= */
@keyframes fadeIn{
  from{ transform: translateY(6px); opacity:.96 }
  to  { transform: translateY(0);    opacity:1 }
}
@keyframes ripple{
  from{ opacity:.35 } to{ opacity:0 }
}

/* ========================= COMPACT / MOBILE ================= */
@media (max-width:560px){
  .send-sigil-modal{
    max-width: 100vw; width: 100%;
    border-radius: 16px;
    padding-bottom: calc(16px + env(safe-area-inset-bottom));
  }
  .close-btn{ width:36px; height:36px; border-radius:12px }
}

/* ========================= MOTION SAFE ====================== */
@media (prefers-reduced-motion: reduce){
  *{ animation: none !important; transition: none !important }
}
